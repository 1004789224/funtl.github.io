(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{200:function(s,t,e){"use strict";e.r(t);var a=e(0),r=Object(a.a)({},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"solr-的基本操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#solr-的基本操作","aria-hidden":"true"}},[s._v("#")]),s._v(" Solr 的基本操作")]),s._v(" "),e("h2",{attrs:{id:"本节视频"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#本节视频","aria-hidden":"true"}},[s._v("#")]),s._v(" 本节视频")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://www.bilibili.com/video/av35516506/",target:"_blank",rel:"noopener noreferrer"}},[s._v("【视频】Dubbo 实现微服务架构-使用 Solr 实现全文检索-Solr 基本操作"),e("OutboundLink")],1)])]),s._v(" "),e("h2",{attrs:{id:"功能界面"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#功能界面","aria-hidden":"true"}},[s._v("#")]),s._v(" 功能界面")]),s._v(" "),e("h3",{attrs:{id:"dashboard"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dashboard","aria-hidden":"true"}},[s._v("#")]),s._v(" Dashboard")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://javasite.oss-cn-shenzhen.aliyuncs.com/blog/assets/Lusifer1512745071.png",alt:""}})]),s._v(" "),e("h3",{attrs:{id:"logging"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#logging","aria-hidden":"true"}},[s._v("#")]),s._v(" Logging")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://javasite.oss-cn-shenzhen.aliyuncs.com/blog/assets/Lusifer1512745395.png",alt:""}})]),s._v(" "),e("h3",{attrs:{id:"core-admin"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#core-admin","aria-hidden":"true"}},[s._v("#")]),s._v(" Core Admin")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://javasite.oss-cn-shenzhen.aliyuncs.com/blog/assets/Lusifer1512745505.png",alt:""}})]),s._v(" "),e("h3",{attrs:{id:"thread-dump"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#thread-dump","aria-hidden":"true"}},[s._v("#")]),s._v(" Thread Dump")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://javasite.oss-cn-shenzhen.aliyuncs.com/blog/assets/Lusifer1512745735.png",alt:""}})]),s._v(" "),e("h3",{attrs:{id:"core"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#core","aria-hidden":"true"}},[s._v("#")]),s._v(" Core")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://javasite.oss-cn-shenzhen.aliyuncs.com/blog/assets/Lusifer1512746145.png",alt:""}})]),s._v(" "),e("h2",{attrs:{id:"分析功能"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分析功能","aria-hidden":"true"}},[s._v("#")]),s._v(" 分析功能")]),s._v(" "),e("h3",{attrs:{id:"修改-managed-schema-配置业务系统字段"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改-managed-schema-配置业务系统字段","aria-hidden":"true"}},[s._v("#")]),s._v(" 修改 managed-schema 配置业务系统字段")]),s._v(" "),e("p",[s._v("需要用到的业务字段如下：")]),s._v(" "),e("ul",[e("li",[s._v("商品 ID")]),s._v(" "),e("li",[s._v("商品分类 ID")]),s._v(" "),e("li",[s._v("分类名称")]),s._v(" "),e("li",[s._v("商品名称")]),s._v(" "),e("li",[s._v("商品卖点")]),s._v(" "),e("li",[s._v("商品详情")])]),s._v(" "),e("p",[s._v("由于 Solr 中自带 id 字段所以无需添加，其它字段需要手动添加 Solr 字段")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('# 字段域\n<field name="tb_item_cid" type="plong" indexed="true" stored="true"/>\n<field name="tb_item_cname"  type="text_ik" indexed="true" stored="true"/>\n<field name="tb_item_title"  type="text_ik" indexed="true" stored="true"/>\n<field name="tb_item_sell_point" type="text_ik" indexed="true" stored="true" />\n<field name="tb_item_desc" type="text_ik" indexed="true" stored="true" />\n\n# 复制域（Solr 的搜索优化功能，将多个字段域复制到一个域里，提高查询效率）\n<field name="tb_item_keywords" type="text_ik" indexed="true" stored="false" multiValued="true"/>\n<copyField source="tb_item_cname" dest="tb_item_keywords"/>\n<copyField source="tb_item_title" dest="tb_item_keywords"/>\n<copyField source="tb_item_sell_point" dest="tb_item_keywords"/>\n<copyField source="tb_item_desc" dest="tb_item_keywords"/>\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://javasite.oss-cn-shenzhen.aliyuncs.com/blog/assets/Lusifer_20181107015350.png",alt:""}})]),s._v(" "),e("h3",{attrs:{id:"复制配置到容器并重启"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#复制配置到容器并重启","aria-hidden":"true"}},[s._v("#")]),s._v(" 复制配置到容器并重启")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 复制到容器\ndocker cp managed-schema solr:/opt/solr/server/solr/ik_core/conf\n\n# 重启容器\ndocker-compose restart\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h3",{attrs:{id:"分词效果图"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分词效果图","aria-hidden":"true"}},[s._v("#")]),s._v(" 分词效果图")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://javasite.oss-cn-shenzhen.aliyuncs.com/blog/assets/Lusifer1520889921.png",alt:""}})]),s._v(" "),e("h2",{attrs:{id:"维护功能"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#维护功能","aria-hidden":"true"}},[s._v("#")]),s._v(" 维护功能")]),s._v(" "),e("p",[s._v("维护功能即对数据库的 CRUD 操作")]),s._v(" "),e("h3",{attrs:{id:"添加索引库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加索引库","aria-hidden":"true"}},[s._v("#")]),s._v(" 添加索引库")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('{\n    "id": 536563,\n    "tb_item_cid": 560,\n    "tb_item_cname": "手机",\n    "tb_item_title": "new2 - 阿尔卡特 (OT-927) 炭黑 联通3G手机 双卡双待",\n    "tb_item_sell_point": "清仓！仅北京，武汉仓有货！"\n}\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://javasite.oss-cn-shenzhen.aliyuncs.com/blog/assets/Lusifer_20181107021450.png",alt:""}})]),s._v(" "),e("h3",{attrs:{id:"测试查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#测试查询","aria-hidden":"true"}},[s._v("#")]),s._v(" 测试查询")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://javasite.oss-cn-shenzhen.aliyuncs.com/blog/assets/Lusifer_20181107021538.png",alt:""}})]),s._v(" "),e("h3",{attrs:{id:"删除索引库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除索引库","aria-hidden":"true"}},[s._v("#")]),s._v(" 删除索引库")]),s._v(" "),e("p",[s._v("设置文档类型为 XML")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://javasite.oss-cn-shenzhen.aliyuncs.com/blog/assets/Lusifer1520892036.png",alt:""}})]),s._v(" "),e("h3",{attrs:{id:"根据-id-删除"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#根据-id-删除","aria-hidden":"true"}},[s._v("#")]),s._v(" 根据 ID 删除")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("<delete>\n    <id>536563</id>\n</delete>\n<commit />\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h3",{attrs:{id:"根据查询删除"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#根据查询删除","aria-hidden":"true"}},[s._v("#")]),s._v(" 根据查询删除")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("<delete>\n    <query>*:*</query>\n</delete>\n<commit/>\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h2",{attrs:{id:"查询功能"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查询功能","aria-hidden":"true"}},[s._v("#")]),s._v(" 查询功能")]),s._v(" "),e("h3",{attrs:{id:"查询条件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查询条件","aria-hidden":"true"}},[s._v("#")]),s._v(" 查询条件")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://javasite.oss-cn-shenzhen.aliyuncs.com/blog/assets/Lusifer1520892126.png",alt:""}})]),s._v(" "),e("p",[s._v("说明：")]),s._v(" "),e("ul",[e("li",[s._v("q：查询条件，"),e("em",[s._v(":")]),s._v(" 为查询所有域，单独查询某个域如："),e("code",[s._v("tb_item_title:手机")])]),s._v(" "),e("li",[s._v("fq: 过滤条件")]),s._v(" "),e("li",[s._v("sort：排序条件")]),s._v(" "),e("li",[s._v("start,rows：分页条件")]),s._v(" "),e("li",[s._v("fl：字段列表返回域，如只希望返回 "),e("code",[s._v("id")])]),s._v(" "),e("li",[s._v("df：默认搜索域，如之前配置的复制域 "),e("code",[s._v("tb_item_keywords")])])]),s._v(" "),e("h3",{attrs:{id:"高亮显示"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#高亮显示","aria-hidden":"true"}},[s._v("#")]),s._v(" 高亮显示")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://javasite.oss-cn-shenzhen.aliyuncs.com/blog/assets/Lusifer_20181107022036.png",alt:""}})]),s._v(" "),e("p",[e("img",{attrs:{src:"https://javasite.oss-cn-shenzhen.aliyuncs.com/blog/assets/Lusifer_20181107022156.png",alt:""}})]),s._v(" "),e("p",[s._v("说明：上图意为在默认搜索域 "),e("code",[s._v("tb_item_keywords")]),s._v(" 中搜索关键字 "),e("code",[s._v("手机")]),s._v(" 并指定需要高亮显示的结果域 "),e("code",[s._v("tb_item_title")]),s._v(" 以 "),e("code",[s._v("红色")]),s._v(" 显示")])])},[],!1,null,null,null);t.default=r.exports}}]);